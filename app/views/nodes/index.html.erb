<div class='form-horizontal' role="form">
  <div class='form-group'>
    <label for="name" class='control-label col-md-4'>Your private DICOM-Nodelist URL</label>
    <div class='col-md-8'>
      <input type="text" class="form-control" onclick="$(this).select();" value="<%= plist_url(current_user.api_key, protocol: 'https') %>" readonly>
      <p class="help-block">Copy &amp; Paste this into OsiriX (Settings &#8594; Nodes &#8594; "Automatically sync the DICOM Nodes list from this URL")</p>
    </div>
  </div>
</form>

<h2>Nodes</h2>

<table class="table">
  <thead>
    <tr>
      <th>Name</th>
      <th>Aetitle</th>
      <th>Address</th>
      <th>Port</th>
      <th>Retrieve Mode</th>
      <th>Transfer Syntax</th>
      <th colspan="2"></th>
    </tr>
  </thead>

  <tbody>
    <% @nodes.each do |node| %>
      <tr>
        <td><%= node.name %></td>
        <td><%= node.aetitle %></td>
        <td><%= node.address %></td>
        <td><%= node.port %></td>
        <td><%= node.retrieve_mode_name %></td>
        <td><%= node.transfer_syntax_name %></td>
        <td><%= link_to 'Edit', edit_node_path(node) %></td>
        <td><%= link_to 'Delete', node, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'Add Node', new_node_path, class: 'btn btn-primary' %>
